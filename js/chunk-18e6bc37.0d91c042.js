(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18e6bc37"],{"04f3":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chapter-test d-flex justify-center align-center pa-8"},["select-chapter"===e.mode?r("chapter-selection",{staticClass:"select-chapter flex-grow-1",attrs:{"chapter-list":e.chapterList},on:{selected:e.handleChapterSelected}}):"solve-problems"===e.mode?r("v-container",{staticClass:"solve-problems mb-auto mt-sm-16"},[r("v-row",[r("v-col",{staticClass:"d-flex justify-end"},[r("report-bad-problem",{attrs:{"current-problem":e.currentProblem}})],1)],1),r("v-row",[r("v-col",[r("v-progress-linear",{attrs:{value:e.nSolved/e.nProblems*100,round:"",height:"25"}},[r("div",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.nSolved+" / "+e.nProblems)+" ")])])],1)],1),r("v-row",[r("v-col",{staticClass:"pa-0"},[r("problem",{key:e.nSolved,attrs:{"current-problem":e.currentProblem},on:{chosen:e.handleProblemSolved}})],1)],1)],1):"show-result"===e.mode?r("v-container",{staticClass:"show-result mb-auto mt-sm-16"},[r("v-row",{staticClass:"justify-center pa-4 font-weight-bold text-h5"},[r("div",{staticClass:"blue--text"},[e._v(e._s(e.totalScore+" / "+e.nProblems))]),r("div",{staticClass:"ml-4"},[e._v("잘 하고 있어요!")])]),r("v-row",{staticClass:"flex-column flex-sm-row"},[r("v-col",{staticClass:"flex-grow-0 d-flex justify-start justify-sm-end pb-0"},[r("div",{staticStyle:{position:"relative"}},[r("span",{staticClass:"text-h6"},[e._v(e._s(e.showResultIdx+1)+".")]),e.results[e.showResultIdx]?r("v-icon",{staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{color:"red"}},[e._v(" mdi-checkbox-blank-circle-outline ")]):r("v-icon",{staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{color:"red"}},[e._v(" mdi-check ")])],1)]),r("v-col",{staticClass:"flex-grow-1"},[r("problem-result",{key:e.showResultIdx,attrs:{"current-problem":e.problems[e.showResultIdx],"student-choice":e.choices[e.showResultIdx],isCorrect:e.results[e.showResultIdx]},on:{next:function(t){e.showResultIdx=Math.min(e.nProblems-1,e.showResultIdx+1)},previous:function(t){e.showResultIdx=Math.max(0,e.showResultIdx-1)}}})],1),r("v-col",{staticClass:"problem-list"},[r("v-btn-toggle",{staticClass:"d-flex flex-wrap",attrs:{group:""},model:{value:e.showResultIdx,callback:function(t){e.showResultIdx=t},expression:"showResultIdx"}},e._l(e.problems,(function(t,o){return r("v-btn",{key:o},[e._v(" "+e._s(o+1+"번")+" ")])})),1)],1)],1)],1):e._e()],1)},s=[],n=r("5530"),a=r("1da1"),l=(r("96cf"),r("d3b7"),r("d81d"),r("820e"),r("3ca3"),r("ddb0"),r("4de4"),r("c845")),c=r("1448"),i=r("6f7a"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"problem-result font-weight-bold"},[r("v-row",{staticClass:"mt-n6 ml-n6"},[r("card-problem",{attrs:{"card-image-src":e.currentProblem.imgSrc,"card-text":e.currentProblem.questionText}})],1),r("v-row",[e._v(" "+e._s("정답: "+["①","②","③","④","⑤"][e.currentProblem.answer-1]+" ")+" "),r("span",{directives:[{name:"katex",rawName:"v-katex:auto",value:e.katexConfig,expression:"katexConfig",arg:"auto"}],staticClass:"ml-2"},[e._v(e._s(e.currentProblem.optionList[e.currentProblem.answer-1]))])]),e.isCorrect?e._e():r("v-row",[e._v(" "+e._s("내가 고른 답: "+["①","②","③","④","⑤"][e.studentChoice-1]+" ")+" "),r("span",{directives:[{name:"katex",rawName:"v-katex:auto",value:e.katexConfig,expression:"katexConfig",arg:"auto"}],staticClass:"ml-2"},[e._v(e._s(e.currentProblem.optionList[e.studentChoice-1]))])]),r("v-row",{staticClass:"mt-6"},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("previous")}}},[e._v(" 이전 문제 ")]),r("v-btn",{staticClass:"ml-4",attrs:{color:"primary"},on:{click:function(t){return e.$emit("next")}}},[e._v(" 다음 문제 ")])],1)],1)},d=[],m=(r("a9e3"),r("d925")),p=r("6cf4"),h={name:"ProblemResult",components:{CardProblem:m["a"]},props:{currentProblem:Object,studentChoice:Number,isCorrect:Boolean},data:function(){return{katexConfig:p["a"]}},computed:{},methods:{}},b=h,v=r("2877"),f=r("6544"),g=r.n(f),w=r("8336"),x=r("a523"),C=r("0fd9"),P=Object(v["a"])(b,u,d,!1,null,"3406a37c",null),R=P.exports;g()(P,{VBtn:w["a"],VContainer:x["a"],VRow:C["a"]});var k=r("cf46"),_={name:"ChapterTest",components:{ChapterSelection:l["a"],Problem:c["a"],ReportBadProblem:i["a"],ProblemResult:R},data:function(){return{chapterList:[],mode:"select-chapter",nSolved:0,nProblems:3,problems:[],currentProblem:{},choices:[],results:[],showResultIdx:0}},computed:{totalScore:function(){return this.results.reduce((function(e,t){return e+t}),0)}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("loading"),t.next=3,e.$store.dispatch("loadSmallChapterList");case 3:e.chapterList=t.sent,e.$store.commit("unLoading");case 5:case"end":return t.stop()}}),t)})))()},methods:{aggregateProblemAndFigure:k["a"],handleChapterSelected:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.$store.commit("loading"),r.next=3,t.$store.dispatch("loadChapterTestProblems",e);case 3:return o=r.sent,s=o.map((function(e){return t.$store.dispatch("loadProblemFigureUrl",e["파일명"])})),r.next=7,Promise.allSettled(s);case 7:a=r.sent.map((function(e){return"fulfilled"===e.status?e.value:""})),t.problems=o.map((function(e,r){var o=a[r];return t.aggregateProblemAndFigure(e,o)})).filter((function(e){return e.isValid})),t.nProblems=t.problems.length,t.currentProblem=Object(n["a"])({},t.problems[0]),t.mode="solve-problems",t.$store.commit("unLoading");case 13:case"end":return r.stop()}}),r)})))()},handleProblemSolved:function(e,t){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){var s,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r.choices.push(e),s=e===r.currentProblem.answer,r.results.push(s),a={problemUid:r.currentProblem.uid,studentChoice:e,isCorrect:s,elapsedTime:t},r.$store.dispatch("recordProblemSolveLog",a),r.nSolved+=1,r.nSolved!==r.problems.length){o.next=11;break}return o.next=9,r.loadResult();case 9:return r.mode="show-result",o.abrupt("return");case 11:r.currentProblem=Object(n["a"])({},r.problems[r.nSolved]);case 12:case"end":return o.stop()}}),o)})))()},loadResult:function(){return this.$store.commit("loading"),this.loadingResolver(1e3)},loadingResolver:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(r){setTimeout((function(){e.$store.commit("unLoading"),r()}),t)}))}},beforeRouteLeave:function(e,t,r){window.confirm("소단원 테스트를 종료하시겠습니까?")&&r()}},S=_,j=(r("5f33"),r("7e58"),r("604c")),I=j["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return j["a"].options.computed.classes.call(this)}},methods:{genData:j["a"].options.methods.genData}}),$=r("a9ad"),y=r("58df"),B=Object(y["a"])(I,$["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},I.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,Object(n["a"])({},I.options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}}),L=r("62ad"),O=r("132d"),V=r("8e36"),T=Object(v["a"])(S,o,s,!1,null,"3e2d22a8",null);t["default"]=T.exports;g()(T,{VBtn:w["a"],VBtnToggle:B,VCol:L["a"],VContainer:x["a"],VIcon:O["a"],VProgressLinear:V["a"],VRow:C["a"]})},"5f33":function(e,t,r){"use strict";r("dd87")},"7e58":function(e,t,r){},"820e":function(e,t,r){"use strict";var o=r("23e7"),s=r("c65b"),n=r("59ed"),a=r("f069"),l=r("e667"),c=r("2266");o({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=a.f(t),o=r.resolve,i=r.reject,u=l((function(){var r=n(t.resolve),a=[],l=0,i=1;c(e,(function(e){var n=l++,c=!1;i++,s(r,t,e).then((function(e){c||(c=!0,a[n]={status:"fulfilled",value:e},--i||o(a))}),(function(e){c||(c=!0,a[n]={status:"rejected",reason:e},--i||o(a))}))})),--i||o(a)}));return u.error&&i(u.value),r.promise}})},dd87:function(e,t,r){}}]);
//# sourceMappingURL=chunk-18e6bc37.0d91c042.js.map