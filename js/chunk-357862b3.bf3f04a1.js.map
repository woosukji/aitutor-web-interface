{"version":3,"sources":["webpack:///./src/views/DailyProblems.vue?88d8","webpack:///./src/views/DailyProblems.vue?2bff","webpack:///src/views/DailyProblems.vue","webpack:///./src/views/DailyProblems.vue?1d40","webpack:///./src/views/DailyProblems.vue?e7ec"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","mode","attrs","chapterList","on","handleChapterSelected","currentProblem","handleProblemSolved","_v","_s","choices","length","answer","handleNextProblem","_e","staticRenderFns","name","components","ChapterSelection","Problem","ReportBadProblem","data","chapter","sessionRecords","nSolved","results","computed","mounted","methods","aggregateProblemAndFigure","loadNextProblem","middleChapter","recommendedProblem","console","dispatch","catch","figureUrl","studentChoice","elapsedTime","isCorrect","problemUid","log","loadAnswer","$store","commit","loadingResolver","Promise","setTimeout","resolve","time","component","VBtn","VCol","VContainer","VRow"],"mappings":"uIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAAe,mBAAbN,EAAIO,KAA2BH,EAAG,oBAAoB,CAACE,YAAY,6BAA6BE,MAAM,CAAC,eAAeR,EAAIS,aAAaC,GAAG,CAAC,SAAWV,EAAIW,yBAAuC,mBAAbX,EAAIO,KAA2BH,EAAG,cAAc,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACF,EAAG,qBAAqB,CAACI,MAAM,CAAC,kBAAkBR,EAAIY,mBAAmB,IAAI,GAAGR,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACI,MAAM,CAAC,kBAAkBR,EAAIY,gBAAgBF,GAAG,CAAC,OAASV,EAAIa,wBAAwB,IAAI,IAAI,GAAiB,gBAAbb,EAAIO,KAAwBH,EAAG,cAAc,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACJ,EAAIc,GAAG,cAAcd,EAAIe,GAAGf,EAAIgB,QAAQhB,EAAIgB,QAAQC,OAAS,OAAOb,EAAG,MAAM,CAACJ,EAAIc,GAAG,aAAad,EAAIe,GAAGf,EAAIY,eAAeM,WAAWd,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,IAAIE,GAAG,CAAC,MAAQV,EAAImB,oBAAoB,CAACnB,EAAIc,GAAG,SAAS,GAAGd,EAAIoB,MAAM,IAC3hCC,EAAkB,G,8FC4CP,GACbC,KAAMA,gBACNC,WAAYA,CAAdC,wBAAAC,eAAAC,yBACEC,KAHF,WAII,MAAO,CACLpB,KAAMA,iBACNqB,QAASA,GACTnB,YAAaA,GACbG,eAAgBA,GAChBiB,eAAgBA,GAChBC,QAASA,EACTd,QAASA,GACTe,QAASA,KAGbC,SAAUA,GACVC,QAhBF,WAgBA,+JACA,2BADA,SAGA,2CAHA,OAGA,cAHA,OAKA,6BALA,8CAOEC,QAASA,CACPC,0BAAJA,OACIxB,sBAFJ,SAEAiB,GAAA,+JACA,YADA,SAGA,oBAHA,OAKA,wBALA,8CAOIQ,gBATJ,WASA,yKACA,2BADA,SAGA,kBACA,yBACA,CACAC,wBACAR,kCAPA,cAGAS,EAHA,OAUAC,eAVA,SAaA,SACAC,SAAA,uBAAAF,UACAG,OAAA,eAfA,sJAeA,GAfA,QAYAC,EAZA,KAiBA,mCACAP,qBAGA,6BArBA,+CAuBItB,oBAhCJ,SAgCA8B,EAAAC,GAAA,uKACA,kBAEAC,EAAAF,4BACA,kBAEA,uBACAG,gCACAD,cAGAE,EAAA,CACAD,gCACAH,gBACAE,YACAD,eAEA,6CAjBA,SAmBA,eAnBA,OAoBA,qBApBA,8CAsBII,WAtDJ,WAyDM,OAFA/C,KAAKgD,OAAOC,OAAO,WAEZjD,KAAKkD,mBAEdhC,kBA3DJ,WA2DA,wKACA,oBADA,OAGA,wBAHA,8CAKIgC,gBAhEJ,WAgEA,wEACM,OAAO,IAAIC,SAAQ,SAAzB,GACQC,YAAWA,WACT,EAAV,2BACUC,MACVC,SCzIuV,I,6FCQnVC,EAAY,eACd,EACAzD,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAmC,EAAiB,QAQhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,OAAA,KAAKC,aAAA,KAAWC,OAAA","file":"js/chunk-357862b3.bf3f04a1.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DailyProblems.vue?vue&type=style&index=0&id=29482cdd&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"daily-problems d-flex justify-center align-center pa-8\"},[(_vm.mode === 'select-chapter')?_c('chapter-selection',{staticClass:\"select-chapter flex-grow-1\",attrs:{\"chapter-list\":_vm.chapterList},on:{\"selected\":_vm.handleChapterSelected}}):(_vm.mode === 'solve-problems')?_c('v-container',{staticClass:\"solve-problems pa-8\"},[_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-end\"},[_c('report-bad-problem',{attrs:{\"current-problem\":_vm.currentProblem}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"pa-0\"},[_c('problem',{attrs:{\"current-problem\":_vm.currentProblem},on:{\"chosen\":_vm.handleProblemSolved}})],1)],1)],1):(_vm.mode === 'show-answer')?_c('v-container',{staticClass:\"show-answer\"},[_c('div',[_vm._v(\"You picked \"+_vm._s(_vm.choices[_vm.choices.length - 1]))]),_c('div',[_vm._v(\"answer is \"+_vm._s(_vm.currentProblem.answer))]),_c('v-btn',{attrs:{\"large\":\"\"},on:{\"click\":_vm.handleNextProblem}},[_vm._v(\"OK\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"daily-problems d-flex justify-center align-center pa-8\">\r\n    <chapter-selection\r\n      v-if=\"mode === 'select-chapter'\"\r\n      class=\"select-chapter flex-grow-1\"\r\n      :chapter-list=\"chapterList\"\r\n      @selected=\"handleChapterSelected\"\r\n    ></chapter-selection>\r\n\r\n    <v-container\r\n      v-else-if=\"mode === 'solve-problems'\"\r\n      class=\"solve-problems pa-8\"\r\n    >\r\n      <v-row>\r\n        <v-col class=\"d-flex justify-end\">\r\n          <report-bad-problem\r\n            :current-problem=\"currentProblem\"\r\n          ></report-bad-problem>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row>\r\n        <v-col class=\"pa-0\">\r\n          <problem\r\n            :current-problem=\"currentProblem\"\r\n            @chosen=\"handleProblemSolved\"\r\n          ></problem>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <v-container v-else-if=\"mode === 'show-answer'\" class=\"show-answer\">\r\n      <div>You picked {{ choices[choices.length - 1] }}</div>\r\n      <div>answer is {{ currentProblem.answer }}</div>\r\n      <v-btn large @click=\"handleNextProblem\">OK</v-btn>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ChapterSelection from \"@/components/ChapterSelection.vue\";\r\nimport Problem from \"@/components/Problem.vue\";\r\nimport ReportBadProblem from \"@/components/ReportBadProblem.vue\";\r\nimport { aggregateProblemAndFigure } from \"@/util/ProblemHelper\";\r\n\r\nexport default {\r\n  name: \"DailyProblems\",\r\n  components: { ChapterSelection, Problem, ReportBadProblem },\r\n  data() {\r\n    return {\r\n      mode: \"select-chapter\",\r\n      chapter: \"\",\r\n      chapterList: [],\r\n      currentProblem: {},\r\n      sessionRecords: [],\r\n      nSolved: 0,\r\n      choices: [],\r\n      results: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  async mounted() {\r\n    this.$store.commit(\"loading\");\r\n\r\n    this.chapterList = await this.$store.dispatch(\"loadMiddleChapterList\");\r\n\r\n    this.$store.commit(\"unLoading\");\r\n  },\r\n  methods: {\r\n    aggregateProblemAndFigure,\r\n    async handleChapterSelected(chapter) {\r\n      this.chapter = chapter;\r\n\r\n      await this.loadNextProblem();\r\n\r\n      this.mode = \"solve-problems\";\r\n    },\r\n    async loadNextProblem() {\r\n      this.$store.commit(\"loading\");\r\n\r\n      const recommendedProblem = await this.$store.dispatch(\r\n        \"loadRecommendedProblem\",\r\n        {\r\n          middleChapter: this.chapter,\r\n          sessionRecords: this.sessionRecords,\r\n        }\r\n      );\r\n      console.log(recommendedProblem);\r\n\r\n      const figureUrl =\r\n        (await this.$store\r\n          .dispatch(\"loadProblemFigureUrl\", recommendedProblem[\"파일명\"])\r\n          .catch(() => {})) ?? \"\";\r\n\r\n      this.currentProblem = {\r\n        ...aggregateProblemAndFigure(recommendedProblem, figureUrl),\r\n      };\r\n\r\n      this.$store.commit(\"unLoading\");\r\n    },\r\n    async handleProblemSolved(studentChoice, elapsedTime) {\r\n      this.choices.push(studentChoice);\r\n\r\n      const isCorrect = studentChoice === this.currentProblem.answer;\r\n      this.results.push(isCorrect);\r\n\r\n      this.sessionRecords.push({\r\n        problemUid: this.currentProblem.uid,\r\n        isCorrect,\r\n      });\r\n\r\n      const log = {\r\n        problemUid: this.currentProblem.uid,\r\n        studentChoice,\r\n        isCorrect,\r\n        elapsedTime,\r\n      };\r\n      this.$store.dispatch(\"recordProblemSolveLog\", log);\r\n\r\n      await this.loadAnswer();\r\n      this.mode = \"show-answer\";\r\n    },\r\n    loadAnswer() {\r\n      this.$store.commit(\"loading\");\r\n\r\n      return this.loadingResolver();\r\n    },\r\n    async handleNextProblem() {\r\n      await this.loadNextProblem();\r\n\r\n      this.mode = \"solve-problems\";\r\n    },\r\n    loadingResolver(time = 500) {\r\n      return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          this.$store.commit(\"unLoading\");\r\n          resolve();\r\n        }, time);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.daily-problems {\r\n  height: 100%;\r\n}\r\n\r\n.solve-problems {\r\n  max-width: 800px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DailyProblems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DailyProblems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DailyProblems.vue?vue&type=template&id=29482cdd&scoped=true&\"\nimport script from \"./DailyProblems.vue?vue&type=script&lang=js&\"\nexport * from \"./DailyProblems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DailyProblems.vue?vue&type=style&index=0&id=29482cdd&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29482cdd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow})\n"],"sourceRoot":""}